set(common_SRCS
    condition.cc
    countdown_latch.cc
    current_thread.cc
    exception.cc
    file_util.cc
    mutex_lock.cc
)

add_library(elrabbit_common ${common_SRCS})
target_link_libraries(elrabbit_common pthread rt)

install(TARGETS elrabbit_common DESTINATION lib)

file(GLOB HEADERS "*.h")
install(FILES ${HEADERS} DESTINATION include/elrabbit/common)